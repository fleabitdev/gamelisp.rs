<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Macros - GameLisp Standard Library</title><link rel="stylesheet" href="../style.css" type="text/css"><link rel="icon" href="../favicon-16.png" sizes="16x16" type="image/x-icon"><link rel="icon" href="../favicon-24.png" sizes="24x24" type="image/x-icon"><link rel="icon" href="../favicon-32.png" sizes="32x32" type="image/x-icon"><link rel="icon" href="../favicon-48.png" sizes="48x48" type="image/x-icon"><meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1"><script defer src="search.js" type="text/javascript"></script><script defer src="preload.js" type="text/javascript"></script></head><body id="api-page"><input id="checkbox-hack" type="checkbox"><nav class="layout-sidebar horz-center"><a class="logo-anchor" href="../"><div class="logo"><picture><source srcset="../logo-dark.png" media="(prefers-color-scheme: dark)"><img src="../logo-light.png" alt="GameLisp"></picture></div></a><div class="panel search-field"><input id="api-search-field" type="search" placeholder="Search..."></div><div class="panel" id="api-list"><a id="api-list-header" href="." class="panel-header">Standard Library</a><div class="link-list" id="api-link-list"><a class="" href="special-forms"><div class="list-level0"><span>Special Forms</span></div></a><a class="" href="abbreviations"><div class="list-level0"><span>Abbreviations</span></div></a><a class="current" href="macros"><div class="list-level0"><span>Macros</span></div></a><a class="" href="when"><div class="list-level1"><code>when</code></div></a><a class="" href="unless"><div class="list-level1"><code>unless</code></div></a><a class="" href="and"><div class="list-level1"><code>and</code></div></a><a class="" href="or"><div class="list-level1"><code>or</code></div></a><a class="" href="cond"><div class="list-level1"><code>cond</code></div></a><a class="" href="cond-eq-p"><div class="list-level1"><code>cond-eq?</code></div></a><a class="" href="cond-same-p"><div class="list-level1"><code>cond-same?</code></div></a><a class="" href="cond-num-eq"><div class="list-level1"><code>cond==</code></div></a><a class="" href="loop"><div class="list-level1"><code>loop</code></div></a><a class="" href="break"><div class="list-level1"><code>break</code></div></a><a class="" href="continue"><div class="list-level1"><code>continue</code></div></a><a class="" href="while"><div class="list-level1"><code>while</code></div></a><a class="" href="until"><div class="list-level1"><code>until</code></div></a><a class="" href="for"><div class="list-level1"><code>for</code></div></a><a class="" href="forn"><div class="list-level1"><code>forn</code></div></a><a class="" href="forni"><div class="list-level1"><code>forni</code></div></a><a class="" href="yield-from"><div class="list-level1"><code>yield-from</code></div></a><a class="" href="bind-place-mut"><div class="list-level1"><code>bind-place!</code></div></a><a class="" href="defplace"><div class="list-level1"><code>defplace</code></div></a><a class="" href="inc-mut"><div class="list-level1"><code>inc!</code></div></a><a class="" href="dec-mut"><div class="list-level1"><code>dec!</code></div></a><a class="" href="mul-mut"><div class="list-level1"><code>mul!</code></div></a><a class="" href="div-mut"><div class="list-level1"><code>div!</code></div></a><a class="" href="div-euclid-mut"><div class="list-level1"><code>div-euclid!</code></div></a><a class="" href="rem-mut"><div class="list-level1"><code>rem!</code></div></a><a class="" href="rem-euclid-mut"><div class="list-level1"><code>rem-euclid!</code></div></a><a class="" href="abs-mut"><div class="list-level1"><code>abs!</code></div></a><a class="" href="neg-mut"><div class="list-level1"><code>neg!</code></div></a><a class="" href="seek-mut"><div class="list-level1"><code>seek!</code></div></a><a class="" href="antiseek-mut"><div class="list-level1"><code>antiseek!</code></div></a><a class="" href="clamp-mut"><div class="list-level1"><code>clamp!</code></div></a><a class="" href="swap-mut"><div class="list-level1"><code>swap!</code></div></a><a class="" href="match"><div class="list-level1"><code>match</code></div></a><a class="" href="matches-p"><div class="list-level1"><code>matches?</code></div></a><a class="" href="when-let"><div class="list-level1"><code>when-let</code></div></a><a class="" href="do-0"><div class="list-level1"><code>do-0</code></div></a><a class="" href="include"><div class="list-level1"><code>include</code></div></a><a class="" href="arrow-first"><div class="list-level1"><code>-&gt;</code></div></a><a class="" href="arrow-last"><div class="list-level1"><code>-&gt;&gt;</code></div></a><a class="" href="backquote"><div class="list-level1"><code>backquote</code></div></a><a class="" href="unquote"><div class="list-level1"><code>unquote</code></div></a><a class="" href="types"><div class="list-level0"><span>Types</span></div></a><a class="" href="evaluation"><div class="list-level0"><span>Evaluation</span></div></a><a class="" href="numbers"><div class="list-level0"><span>Numbers</span></div></a><a class="" href="collections"><div class="list-level0"><span>Collections</span></div></a><a class="" href="strings-and-text"><div class="list-level0"><span>Strings and Text</span></div></a><a class="" href="iterators"><div class="list-level0"><span>Iterators</span></div></a><a class="" href="objects-and-classes"><div class="list-level0"><span>Objects and Classes</span></div></a><a class="" href="miscellaneous"><div class="list-level0"><span>Miscellaneous</span></div></a><hr></hr><a href="alphabetic-index"><div class="list-level0">Alphabetic Index</div></a></div></div></nav><main class="layout-content panel"><div class="panel-header">Macros</div><div class="text-box"><h2 id="branching"><a href="#branching">Branching</a></h2><div class="code-table"><a class="row-link" href="when" style="grid-row: 1"></a><div class="left-column" style="grid-row: 1"><code>when</code></div><div class="right-column" style="grid-row: 1"><p><p>Evaluates its body when a condition is true.</p>
</p></div><a class="row-link" href="unless" style="grid-row: 2"></a><div class="left-column" style="grid-row: 2"><code>unless</code></div><div class="right-column" style="grid-row: 2"><p><p>Evaluates its body when a condition is false.</p>
</p></div><a class="row-link" href="and" style="grid-row: 3"></a><div class="left-column" style="grid-row: 3"><code>and</code></div><div class="right-column" style="grid-row: 3"><p><p>Performs a lazy Boolean AND.</p>
</p></div><a class="row-link" href="or" style="grid-row: 4"></a><div class="left-column" style="grid-row: 4"><code>or</code></div><div class="right-column" style="grid-row: 4"><p><p>Performs a lazy Boolean OR.</p>
</p></div><a class="row-link" href="cond" style="grid-row: 5"></a><div class="left-column" style="grid-row: 5"><code>cond</code></div><div class="right-column" style="grid-row: 5"><p><p>Tests several conditions in turn.</p>
</p></div><a class="row-link" href="cond-eq-p" style="grid-row: 6"></a><div class="left-column" style="grid-row: 6"><code>cond-eq?</code></div><div class="right-column" style="grid-row: 6"><p><p>Successively tests a value for equality using <code>eq?</code>.</p>
</p></div><a class="row-link" href="cond-same-p" style="grid-row: 7"></a><div class="left-column" style="grid-row: 7"><code>cond-same?</code></div><div class="right-column" style="grid-row: 7"><p><p>Successively tests a value for equality using <code>same?</code>.</p>
</p></div><a class="row-link" href="cond-num-eq" style="grid-row: 8"></a><div class="left-column" style="grid-row: 8"><code>cond==</code></div><div class="right-column" style="grid-row: 8"><p><p>Successively tests a value for equality using <code>==</code>.</p>
</p></div></div><h2 id="looping"><a href="#looping">Looping</a></h2><div class="code-table"><a class="row-link" href="loop" style="grid-row: 1"></a><div class="left-column" style="grid-row: 1"><code>loop</code></div><div class="right-column" style="grid-row: 1"><p><p>An endless loop.</p>
</p></div><a class="row-link" href="break" style="grid-row: 2"></a><div class="left-column" style="grid-row: 2"><code>break</code></div><div class="right-column" style="grid-row: 2"><p><p>Breaks out of a loop.</p>
</p></div><a class="row-link" href="continue" style="grid-row: 3"></a><div class="left-column" style="grid-row: 3"><code>continue</code></div><div class="right-column" style="grid-row: 3"><p><p>Skips the rest of a loop's current iteration.</p>
</p></div><a class="row-link" href="while" style="grid-row: 4"></a><div class="left-column" style="grid-row: 4"><code>while</code></div><div class="right-column" style="grid-row: 4"><p><p>Loops as long as a condition is true.</p>
</p></div><a class="row-link" href="until" style="grid-row: 5"></a><div class="left-column" style="grid-row: 5"><code>until</code></div><div class="right-column" style="grid-row: 5"><p><p>Loops as long as a condition is false.</p>
</p></div><a class="row-link" href="for" style="grid-row: 6"></a><div class="left-column" style="grid-row: 6"><code>for</code></div><div class="right-column" style="grid-row: 6"><p><p>Loops over each value produced by an iterator.</p>
</p></div><a class="row-link" href="forn" style="grid-row: 7"></a><div class="left-column" style="grid-row: 7"><code>forn</code></div><div class="right-column" style="grid-row: 7"><p><p>Loops over a numeric range.</p>
</p></div><a class="row-link" href="forni" style="grid-row: 8"></a><div class="left-column" style="grid-row: 8"><code>forni</code></div><div class="right-column" style="grid-row: 8"><p><p>Loops over an inclusive numeric range.</p>
</p></div><a class="row-link" href="yield-from" style="grid-row: 9"></a><div class="left-column" style="grid-row: 9"><code>yield-from</code></div><div class="right-column" style="grid-row: 9"><p><p>Yields each value produced by an iterator.</p>
</p></div></div><h2 id="places"><a href="#places">Places</a></h2><div class="code-table"><a class="row-link" href="bind-place-mut" style="grid-row: 1"></a><div class="left-column" style="grid-row: 1"><code>bind-place!</code></div><div class="right-column" style="grid-row: 1"><p><p>Defines a new type of place.</p>
</p></div><a class="row-link" href="defplace" style="grid-row: 2"></a><div class="left-column" style="grid-row: 2"><code>defplace</code></div><div class="right-column" style="grid-row: 2"><p><p>A shorthand for <code>bind-place!</code>.</p>
</p></div><a class="row-link" href="inc-mut" style="grid-row: 3"></a><div class="left-column" style="grid-row: 3"><code>inc!</code></div><div class="right-column" style="grid-row: 3"><p><p>Performs in-place addition or increment.</p>
</p></div><a class="row-link" href="dec-mut" style="grid-row: 4"></a><div class="left-column" style="grid-row: 4"><code>dec!</code></div><div class="right-column" style="grid-row: 4"><p><p>Performs in-place subtraction or decrement.</p>
</p></div><a class="row-link" href="mul-mut" style="grid-row: 5"></a><div class="left-column" style="grid-row: 5"><code>mul!</code></div><div class="right-column" style="grid-row: 5"><p><p>Performs in-place multiplication.</p>
</p></div><a class="row-link" href="div-mut" style="grid-row: 6"></a><div class="left-column" style="grid-row: 6"><code>div!</code></div><div class="right-column" style="grid-row: 6"><p><p>Performs in-place division or reciprocation.</p>
</p></div><a class="row-link" href="div-euclid-mut" style="grid-row: 7"></a><div class="left-column" style="grid-row: 7"><code>div-euclid!</code></div><div class="right-column" style="grid-row: 7"><p><p>Performs in-place Euclidean division or reciprocation.</p>
</p></div><a class="row-link" href="rem-mut" style="grid-row: 8"></a><div class="left-column" style="grid-row: 8"><code>rem!</code></div><div class="right-column" style="grid-row: 8"><p><p>Performs in-place remainder.</p>
</p></div><a class="row-link" href="rem-euclid-mut" style="grid-row: 9"></a><div class="left-column" style="grid-row: 9"><code>rem-euclid!</code></div><div class="right-column" style="grid-row: 9"><p><p>Performs in-place Euclidean remainder.</p>
</p></div><a class="row-link" href="abs-mut" style="grid-row: 10"></a><div class="left-column" style="grid-row: 10"><code>abs!</code></div><div class="right-column" style="grid-row: 10"><p><p>Replaces a number with its absolute value, in place.</p>
</p></div><a class="row-link" href="neg-mut" style="grid-row: 11"></a><div class="left-column" style="grid-row: 11"><code>neg!</code></div><div class="right-column" style="grid-row: 11"><p><p>Negates a number, in place.</p>
</p></div><a class="row-link" href="seek-mut" style="grid-row: 12"></a><div class="left-column" style="grid-row: 12"><code>seek!</code></div><div class="right-column" style="grid-row: 12"><p><p>Moves a number closer to a target number, in place.</p>
</p></div><a class="row-link" href="antiseek-mut" style="grid-row: 13"></a><div class="left-column" style="grid-row: 13"><code>antiseek!</code></div><div class="right-column" style="grid-row: 13"><p><p>Moves a number away from another number, in place.</p>
</p></div><a class="row-link" href="clamp-mut" style="grid-row: 14"></a><div class="left-column" style="grid-row: 14"><code>clamp!</code></div><div class="right-column" style="grid-row: 14"><p><p>Clamps a number to lie within a numeric range, in place.</p>
</p></div><a class="row-link" href="swap-mut" style="grid-row: 15"></a><div class="left-column" style="grid-row: 15"><code>swap!</code></div><div class="right-column" style="grid-row: 15"><p><p>Exchange values stored in two different places.</p>
</p></div></div><h2 id="patterns"><a href="#patterns">Patterns</a></h2><div class="code-table"><a class="row-link" href="match" style="grid-row: 1"></a><div class="left-column" style="grid-row: 1"><code>match</code></div><div class="right-column" style="grid-row: 1"><p><p>Attempt to match a value against several patterns.</p>
</p></div><a class="row-link" href="matches-p" style="grid-row: 2"></a><div class="left-column" style="grid-row: 2"><code>matches?</code></div><div class="right-column" style="grid-row: 2"><p><p>Returns <code>#t</code> if a value matches a pattern.</p>
</p></div><a class="row-link" href="when-let" style="grid-row: 3"></a><div class="left-column" style="grid-row: 3"><code>when-let</code></div><div class="right-column" style="grid-row: 3"><p><p>Evaluates some forms when a value matches a pattern.</p>
</p></div></div><h2 id="miscellaneous"><a href="#miscellaneous">Miscellaneous</a></h2><div class="code-table"><a class="row-link" href="do-0" style="grid-row: 1"></a><div class="left-column" style="grid-row: 1"><code>do-0</code></div><div class="right-column" style="grid-row: 1"><p><p>Evaluates multiple forms, returning the first form's result.</p>
</p></div><a class="row-link" href="include" style="grid-row: 2"></a><div class="left-column" style="grid-row: 2"><code>include</code></div><div class="right-column" style="grid-row: 2"><p><p>Replaces itself with the contents of a file.</p>
</p></div><a class="row-link" href="arrow-first" style="grid-row: 3"></a><div class="left-column" style="grid-row: 3"><code>-&gt;</code></div><div class="right-column" style="grid-row: 3"><p><p>Alternative syntax for nested function calls.</p>
</p></div><a class="row-link" href="arrow-last" style="grid-row: 4"></a><div class="left-column" style="grid-row: 4"><code>-&gt;&gt;</code></div><div class="right-column" style="grid-row: 4"><p><p>Alternative syntax for nested function calls.</p>
</p></div><a class="row-link" href="backquote" style="grid-row: 5"></a><div class="left-column" style="grid-row: 5"><code>backquote</code></div><div class="right-column" style="grid-row: 5"><p><p>Quasi-quotation.</p>
</p></div><a class="row-link" href="unquote" style="grid-row: 6"></a><div class="left-column" style="grid-row: 6"><code>unquote</code></div><div class="right-column" style="grid-row: 6"><p><p>Evaluate a quasi-quoted form.</p>
</p></div></div></div></main><div id="api-nav" class="layout-nav prev-next-nav"><div class="prev-nav"><a href="abbreviations"><div class="button left-button" id="api-nav-prev"><span id="api-nav-prev-arrow">←</span><span class="ellipsis-text" id="api-nav-prev-text">Abbreviations</span></div></a></div><a id="api-nav-parent-link" href="."><div class="button" id="api-nav-parent"><span id="api-nav-parent-arrow">⭡</span></div></a><label class="button" id="api-nav-hamburger" for="checkbox-hack"><span id="api-nav-hamburger-icon">☰</span><span id="api-nav-cancel-icon">X</span></label><div class="next-nav"><a href="types"><div class="button right-button" id="api-nav-next"><span class="ellipsis-text" id="api-nav-next-text">Types</span><span id="api-nav-next-arrow">→</span></div></a></div></div></body></html>